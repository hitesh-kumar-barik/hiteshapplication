<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Paradise Nursery â€” Final Project</title>
  <style>
    :root{--green:#2a9d66;--muted:#6b7280;--card:#ffffff;--bg:#f6faf6}
    *{box-sizing:border-box}body{font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;margin:0;background:var(--bg);color:#0f172a}
    header{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:linear-gradient(90deg,var(--green), #69c392);color:white}
    .brand{display:flex;align-items:center;gap:12px;cursor:pointer}
    .logo{width:48px;height:48px;border-radius:8px;background:url('https://images.unsplash.com/photo-1511988617509-a57c8a288659?auto=format&fit=crop&w=200&q=60') center/cover;border:2px solid rgba(255,255,255,0.25)}
    .title{font-weight:700;font-size:18px}
    .tag{font-size:13px;opacity:0.9}
    .cart{display:flex;align-items:center;gap:10px;cursor:pointer}
    .cart .count{background:rgba(255,255,255,0.9);color:var(--green);padding:4px 8px;border-radius:12px;font-weight:700}

    /* Landing */
    .landing{min-height:calc(100vh - 80px);display:grid;place-items:center;padding:32px;background-image:linear-gradient(rgba(0,0,0,0.2),rgba(0,0,0,0.2)),url('https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=1600&q=60');background-size:cover;background-position:center;color:white}
    .landing .card{background:rgba(255,255,255,0.06);padding:28px;border-radius:12px;max-width:900px;width:100%;backdrop-filter:blur(4px)}
    .landing h1{margin:0 0 8px;font-size:36px}
    .landing p{margin:0 0 18px;color:rgba(255,255,255,0.95);line-height:1.5}
    .btn{display:inline-block;background:white;color:var(--green);padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:700}

    /* Product listing */
    .container{padding:20px 24px}
    .section{margin:18px 0}
    .section h2{margin:6px 0 10px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
    .plant-card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(17,24,39,0.06);display:flex;flex-direction:column;gap:10px}
    .thumb{height:140px;border-radius:8px;background-size:cover;background-position:center}
    .plant-name{font-weight:700}
    .price{color:var(--green);font-weight:700}
    .desc{color:var(--muted);font-size:13px}
    .actions{margin-top:auto;display:flex;gap:8px;align-items:center}
    .btn-add{flex:1;padding:8px;border-radius:8px;border:2px solid var(--green);background:transparent;color:var(--green);cursor:pointer;font-weight:700}
    .btn-add[disabled]{opacity:0.6;cursor:default}

    /* Cart page */
    .cart-page{padding:20px}
    .cart-grid{display:grid;grid-template-columns:1fr 320px;gap:20px}
    .cart-list{display:flex;flex-direction:column;gap:12px}
    .cart-item{display:flex;gap:12px;align-items:center;background:white;padding:12px;border-radius:10px}
    .cart-item .thumb{width:96px;height:72px;border-radius:8px}
    .qty{display:flex;align-items:center;gap:8px}
    .qty button{padding:6px 8px;border-radius:6px;border:1px solid #e5e7eb;background:white;cursor:pointer}
    .remove{background:transparent;border:0;color:var(--muted);cursor:pointer}
    .summary{background:white;padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(17,24,39,0.06)}
    .summary h3{margin:0 0 12px}
    .summary .row{display:flex;justify-content:space-between;margin:6px 0}

    footer{padding:16px;text-align:center;color:var(--muted)}

    @media(max-width:720px){.cart-grid{grid-template-columns:1fr}.landing h1{font-size:28px}}
  </style>
</head>
<body>
  <header>
    <div class="brand" id="logoBtn" title="Back to home">
      <div class="logo"></div>
      <div>
        <div class="title">Paradise Nursery</div>
        <div class="tag">Bring green into your life</div>
      </div>
    </div>
    <div class="cart" id="cartBtn" title="View cart">
      <div>ðŸ›’</div>
      <div class="count" id="cartCount">0</div>
    </div>
  </header>

  <!-- App root -->
  <main id="app"></main>

  <footer>Built for Final Project â€” Paradise Nursery UI â€¢ HTML / CSS / JS</footer>

<script>
// ---------- Data ----------
const PRODUCTS = [
  {id: 'p1', name:'Snake Plant', price: 12.99, desc:'Tough, air-purifying and low-light tolerant.', img:'https://images.unsplash.com/photo-1587300003388-59208cc962cb?auto=format&fit=crop&w=800&q=60', groups:['air-purifying','low-maintenance']},
  {id: 'p2', name:'Peace Lily', price: 18.5, desc:'Flowering plant that also helps clean indoor air.', img:'https://images.unsplash.com/photo-1524594154900-23f6f7fdfd2b?auto=format&fit=crop&w=800&q=60', groups:['air-purifying']},
  {id: 'p3', name:'Lavender', price: 9.5, desc:'Aromatic plant â€” calming scent for indoor spaces.', img:'https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=60', groups:['aromatic']},
  {id: 'p4', name:'Spider Plant', price: 11.0, desc:'Great for hanging baskets; easy to propagate.', img:'https://images.unsplash.com/photo-1517976487492-5750f3195933?auto=format&fit=crop&w=800&q=60', groups:['air-purifying','pet-friendly']},
  {id: 'p5', name:'Aloe Vera', price: 14.0, desc:'Succulent with medicinal gel; low water needs.', img:'https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=800&q=60', groups:['low-maintenance']},
  {id: 'p6', name:'Rosemary', price: 7.5, desc:'Culinary herb with aromatic needles.', img:'https://images.unsplash.com/photo-1524594154900-23f6f7fdfd2b?auto=format&fit=crop&w=800&q=60', groups:['aromatic','culinary']}
];

// ---------- State ----------
let state = {
  route: 'landing', // 'landing' | 'products' | 'cart'
  cart: loadCart() // object: { productId: qty }
};

// ---------- Persistence helpers ----------
function saveCart(){ localStorage.setItem('paradise_cart', JSON.stringify(state.cart)); }
function loadCart(){ try{ const v = JSON.parse(localStorage.getItem('paradise_cart')||'{}'); return v || {}; }catch(e){ return {}; } }

// ---------- Utility ----------
function cartItemCount(){ return Object.values(state.cart).reduce((s,n)=>s+(Number(n)||0),0); }
function cartSubtotal(){ return Object.entries(state.cart).reduce((sum,[id,qty])=>{ const p = PRODUCTS.find(x=>x.id===id); return sum + (p? p.price * qty:0); },0); }

// ---------- Routing & Render ----------
const app = document.getElementById('app');
const cartCountEl = document.getElementById('cartCount');
const logoBtn = document.getElementById('logoBtn');
const cartBtn = document.getElementById('cartBtn');

logoBtn.addEventListener('click',()=>navigate('landing'));
cartBtn.addEventListener('click',()=>navigate('cart'));

function render(){ cartCountEl.textContent = cartItemCount();
  if(state.route === 'landing') renderLanding();
  else if(state.route === 'products') renderProducts();
  else if(state.route === 'cart') renderCart();
}

function navigate(route){ state.route = route; render(); window.scrollTo(0,0); }

// ---------- Landing ----------
function renderLanding(){ app.innerHTML = `
  <section class="landing">
    <div class="card">
      <h1>Welcome to Paradise Nursery</h1>
      <p>At Paradise Nursery we cultivate a delightful collection of houseplants to brighten your home and purify your space. From low-maintenance succulents to fragrant herbs, our plants are selected for quality and care. Ready to bring green into your life?</p>
      <div style="display:flex;gap:12px;margin-top:12px">
        <a class="btn" id="getStarted">Get Started</a>
        <a class="btn" id="viewCatalog" style="background:transparent;color:white;border:2px solid rgba(255,255,255,0.6)">Browse Catalog</a>
      </div>
    </div>
  </section>
`;
  document.getElementById('getStarted').addEventListener('click',()=>navigate('products'));
  document.getElementById('viewCatalog').addEventListener('click',()=>navigate('products'));
}

// ---------- Products ----------
function uniqueGroups(){ const s = new Set(); PRODUCTS.forEach(p=>p.groups.forEach(g=>s.add(g))); return Array.from(s); }

function renderProducts(){ const groups = uniqueGroups();
  let html = `<div class="container">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
      <div>
        <h1 style="margin:0">Paradise Nursery</h1>
        <div style="color:var(--muted)">Houseplants â€¢ Curated Collections</div>
      </div>
      <div style="text-align:right;color:var(--muted)">Cart â€¢ <strong id="hdCount">${cartItemCount()}</strong></div>
    </div>`;

  groups.forEach(group=>{
    const items = PRODUCTS.filter(p=>p.groups.includes(group));
    html += `<section class="section"><h2>${capitalize(group.replace('-',' '))}</h2><div class="grid">`;
    items.forEach(p=>{
      const disabled = (state.cart[p.id] && state.cart[p.id] > 0) ? 'disabled' : '';
      const label = disabled ? 'Added to Cart' : 'Add to Cart';
      html += `
        <article class="plant-card" data-id="${p.id}">
          <div class="thumb" style="background-image:url('${p.img}')"></div>
          <div class="plant-name">${p.name}</div>
          <div class="price">â‚¹${formatPrice(p.price)}</div>
          <div class="desc">${p.desc}</div>
          <div class="actions">
            <button class="btn-add" ${disabled} data-id="${p.id}">${label}</button>
            <div style="font-size:12px;color:var(--muted)">${p.groups.map(g=>capitalize(g)).join(' â€¢ ')}</div>
          </div>
        </article>
      `;
    });
    html += `</div></section>`;
  });

  html += `</div>`;
  app.innerHTML = html;

  // attach add handlers
  document.querySelectorAll('.btn-add').forEach(b=>{
    b.addEventListener('click',()=>{
      const id = b.dataset.id;
      addToCart(id);
      b.disabled = true; b.textContent = 'Added to Cart';
      document.getElementById('hdCount').textContent = cartItemCount();
    });
  });
}

function addToCart(id){ state.cart[id] = (Number(state.cart[id]) || 0) + 1; saveCart(); updateHeaderCount(); }

// ---------- Cart ----------
function renderCart(){
  let html = `<div class="cart-page container">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
      <div>
        <h1 style="margin:0">Your Shopping Cart</h1>
        <div style="color:var(--muted)">Review items, adjust quantities, and checkout</div>
      </div>
      <div style="text-align:right;color:var(--muted)">Items: <strong>${cartItemCount()}</strong></div>
    </div>
    <div class="cart-grid">
      <div class="cart-list">
  `;

  const entries = Object.entries(state.cart).filter(([_,qty])=>qty>0);
  if(entries.length === 0){
    html += `<div style="background:white;padding:24px;border-radius:10px;text-align:center">Your cart is empty. <button class="btn" id="backToShop">Browse Plants</button></div>`;
  } else {
    entries.forEach(([id,qty])=>{
      const p = PRODUCTS.find(x=>x.id===id);
      if(!p) return;
      html += `
        <div class="cart-item" data-id="${id}">
          <div class="thumb" style="background-image:url('${p.img}')"></div>
          <div style="flex:1">
            <div style="display:flex;justify-content:space-between;align-items:start">
              <div>
                <div style="font-weight:700">${p.name}</div>
                <div style="color:var(--muted);font-size:13px">Unit price: â‚¹${formatPrice(p.price)}</div>
              </div>
              <button class="remove" data-id="${id}">Delete</button>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
              <div class="qty">
                <button class="dec" data-id="${id}">-</button>
                <div style="min-width:28px;text-align:center">${qty}</div>
                <button class="inc" data-id="${id}">+</button>
              </div>
              <div style="font-weight:700">Subtotal: â‚¹${formatPrice(p.price * qty)}</div>
            </div>
          </div>
        </div>
      `;
    });
  }

  html += `</div>`; // end cart-list

  // summary sidebar
  html += `
    <aside class="summary">
      <h3>Order Summary</h3>
      <div class="row"><div>Total items</div><div><strong>${cartItemCount()}</strong></div></div>
      <div class="row"><div>Total cost</div><div><strong>â‚¹${formatPrice(cartSubtotal())}</strong></div></div>
      <div style="margin-top:12px"><button class="btn" id="checkoutBtn">Checkout</button></div>
    </aside>
  </div></div>`;

  app.innerHTML = html;

  // attach handlers
  document.querySelectorAll('.inc').forEach(b=>b.addEventListener('click',(e)=>{
    const id = e.target.dataset.id; updateQty(id, (Number(state.cart[id])||0)+1);
  }));
  document.querySelectorAll('.dec').forEach(b=>b.addEventListener('click',(e)=>{
    const id = e.target.dataset.id; updateQty(id, (Number(state.cart[id])||0)-1);
  }));
  document.querySelectorAll('.remove').forEach(b=>b.addEventListener('click',(e)=>{
    const id = e.target.dataset.id; removeFromCart(id);
  }));
  const backBtn = document.getElementById('backToShop'); if(backBtn) backBtn.addEventListener('click',()=>navigate('products'));
  const checkoutBtn = document.getElementById('checkoutBtn'); if(checkoutBtn) checkoutBtn.addEventListener('click',()=>{
    alert('Checkout simulated â€” thank you for shopping with Paradise Nursery!'); state.cart = {}; saveCart(); updateHeaderCount(); navigate('products');
  });
}

function updateQty(id,newQty){ newQty = Number(newQty);
  if(newQty <= 0){ delete state.cart[id]; } else { state.cart[id] = newQty; }
  saveCart(); updateHeaderCount(); renderCart(); }
function removeFromCart(id){ delete state.cart[id]; saveCart(); updateHeaderCount(); renderCart(); }

function updateHeaderCount(){ cartCountEl.textContent = cartItemCount(); }

// ---------- Helpers ----------
function formatPrice(num){ return (Math.round((num + Number.EPSILON) * 100) / 100).toFixed(2); }
function capitalize(s){ return s.charAt(0).toUpperCase()+s.slice(1); }

// initialize
render();

// Expose to window for debugging (optional)
window._PARADISE = { state, PRODUCTS, addToCart };
</script>
</body>
</html>
